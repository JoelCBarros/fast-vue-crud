{"remainingRequest":"/home/joel/Downloads/fast-vue-crud/client/node_modules/babel-loader/lib/index.js!/home/joel/Downloads/fast-vue-crud/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/joel/Downloads/fast-vue-crud/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/joel/Downloads/fast-vue-crud/client/src/components/Books.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/joel/Downloads/fast-vue-crud/client/src/components/Books.vue","mtime":1721318564801},{"path":"/home/joel/Downloads/fast-vue-crud/client/babel.config.js","mtime":1721089625716},{"path":"/home/joel/Downloads/fast-vue-crud/client/node_modules/cache-loader/dist/cjs.js","mtime":1721089573011},{"path":"/home/joel/Downloads/fast-vue-crud/client/node_modules/babel-loader/lib/index.js","mtime":1721089573915},{"path":"/home/joel/Downloads/fast-vue-crud/client/node_modules/cache-loader/dist/cjs.js","mtime":1721089573011},{"path":"/home/joel/Downloads/fast-vue-crud/client/node_modules/vue-loader/lib/index.js","mtime":1721089569879}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEFsZXJ0IGZyb20gJy4vQWxlcnQudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib29rczogW10sCiAgICAgIGJvb2tGb3JtOiB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBhdXRob3I6ICcnLAogICAgICAgIHJlYWQ6IFtdCiAgICAgIH0sCiAgICAgIGlzVXBkYXRlOiBmYWxzZSwKICAgICAgbWVzc2FnZTogJycsCiAgICAgIGZvcm1UaXRsZTogJycKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBhbGVydDogQWxlcnQKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEJvb2tzKCkgewogICAgICBjb25zdCBwYXRoID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9ib29rcyc7CiAgICAgIGF4aW9zLmdldChwYXRoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5ib29rcyA9IHJlcy5kYXRhLmJvb2tzOwogICAgICAgIGlmICh0aGlzLmJvb2tzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgdGhpcy5tZXNzYWdlID0gJ05vIGJvb2tzISBQbGVhc2UgYWRkIG9uZSc7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZEJvb2socGF5bG9hZCkgewogICAgICBjb25zdCBwYXRoID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9ib29rcyc7CiAgICAgIGF4aW9zLnBvc3QocGF0aCwgcGF5bG9hZCkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5nZXRCb29rcygpOwogICAgICAgIHRoaXMubWVzc2FnZSA9ICdCb29rIEFkZGVkISc7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgdGhpcy5nZXRCb29rcygpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVCb29rKHBheWxvYWQsIGJvb2tJRCkgewogICAgICBjb25zdCBwYXRoID0gYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9ib29rcy8ke2Jvb2tJRH1gOwogICAgICBheGlvcy5wdXQocGF0aCwgcGF5bG9hZCkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5nZXRCb29rcygpOwogICAgICAgIHRoaXMubWVzc2FnZSA9ICdCb29rIHVwZGF0ZWQhJzsKICAgICAgICB0aGlzLnNob3dNZXNzYWdlID0gdHJ1ZTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIHRoaXMuZ2V0Qm9va3MoKTsKICAgICAgfSk7CiAgICB9LAogICAgZWRpdEJvb2soYm9vaykgewogICAgICB0aGlzLm1lc3NhZ2UgPSAnJzsKICAgICAgdGhpcy5ib29rRm9ybSA9IGJvb2s7CiAgICAgIHRoaXMuZm9ybVRpdGxlID0gJ1VwZGF0ZSBCb29rJzsKICAgICAgdGhpcy5pc1VwZGF0ZSA9IHRydWU7CiAgICB9LAogICAgcmVtb3ZlQm9vayhib29rSUQpIHsKICAgICAgY29uc3QgcGF0aCA9IGBodHRwOi8vbG9jYWxob3N0OjgwMDAvYm9va3MvJHtib29rSUR9YDsKICAgICAgYXhpb3MuZGVsZXRlKHBhdGgpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuZ2V0Qm9va3MoKTsKICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnQm9vayByZW1vdmVkISc7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICB0aGlzLmdldEJvb2tzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uRGVsZXRlQm9vayhib29rKSB7CiAgICAgIHRoaXMubWVzc2FnZSA9ICcnOwogICAgICB0aGlzLiRidk1vZGFsLm1zZ0JveENvbmZpcm0oJ0FyZSB5b3Ugc3VyZT8nKS50aGVuKHZhbHVlID0+IHsKICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgIHRoaXMucmVtb3ZlQm9vayhib29rLmlkKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICB0aGlzLmdldEJvb2tzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRGb3JtKCkgewogICAgICB0aGlzLmJvb2tGb3JtLnRpdGxlID0gJyc7CiAgICAgIHRoaXMuYm9va0Zvcm0uYXV0aG9yID0gJyc7CiAgICAgIHRoaXMuYm9va0Zvcm0ucmVhZCA9IFtdOwogICAgICB0aGlzLm1lc3NhZ2UgPSAnJzsKICAgIH0sCiAgICBvblN1Ym1pdChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuJHJlZnMuYm9va01vZGFsLmhpZGUoKTsKICAgICAgbGV0IHJlYWQgPSBmYWxzZTsKICAgICAgaWYgKHRoaXMuYm9va0Zvcm0ucmVhZFswXSkgcmVhZCA9IHRydWU7CiAgICAgIGNvbnN0IHBheWxvYWQgPSB7CiAgICAgICAgdGl0bGU6IHRoaXMuYm9va0Zvcm0udGl0bGUsCiAgICAgICAgYXV0aG9yOiB0aGlzLmJvb2tGb3JtLmF1dGhvciwKICAgICAgICByZWFkCiAgICAgIH07CiAgICAgIGlmICh0aGlzLmlzVXBkYXRlKSB7CiAgICAgICAgdGhpcy51cGRhdGVCb29rKHBheWxvYWQsIHRoaXMuYm9va0Zvcm0uaWQpOwogICAgICAgIHRoaXMuaXNVcGRhdGUgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFkZEJvb2socGF5bG9hZCk7CiAgICAgIH0KICAgICAgdGhpcy5pbml0Rm9ybSgpOwogICAgfSwKICAgIG9uUmVzZXQoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLiRyZWZzLmJvb2tNb2RhbC5oaWRlKCk7CiAgICAgIHRoaXMuaW5pdEZvcm0oKTsKICAgICAgdGhpcy5nZXRCb29rcygpOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Qm9va3MoKTsKICB9Cn07"},{"version":3,"names":["axios","Alert","data","books","bookForm","id","title","author","read","isUpdate","message","formTitle","components","alert","methods","getBooks","path","get","then","res","length","catch","error","console","addBook","payload","post","log","updateBook","bookID","put","showMessage","editBook","book","removeBook","delete","onDeleteBook","$bvModal","msgBoxConfirm","value","initForm","onSubmit","evt","preventDefault","$refs","bookModal","hide","onReset","created"],"sources":["src/components/Books.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-sm-10\">\n        <h1>Books</h1>\n        <hr><br><br>\n        <alert v-if=\"message != ''\" :message=\"message\"></alert>\n        <!-- eslint-disable-next-line max-len -->\n        <button type=\"button\" class=\"btn btn-success btn-sm\" v-b-modal.book-modal @click=\"formTitle = 'Add a new Book'\">\n          Add Book</button>\n        <br><br>\n        <table class=\"table table-hover\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Title</th>\n              <th scope=\"col\">Author</th>\n              <th scope=\"col\">Read?</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(book, index) in books\" :key=\"index\">\n              <td>{{ book.title }}</td>\n              <td>{{ book.author }}</td>\n              <td>\n                <span v-if=\"book.read\">Yes</span>\n                <span v-else>No</span>\n              </td>\n              <td>\n                <div class=\"btn-group\" role=\"group\">\n                  <!-- eslint-disable-next-line max-len -->\n                  <button type=\"button\" class=\"btn btn-warning btn-sm\" v-b-modal.book-modal\n                    @click=\"editBook(book)\">Update</button>\n                  <!-- eslint-disable-next-line max-len -->\n                  <button type=\"button\" class=\"btn btn-danger btn-sm\" @click=\"onDeleteBook(book)\">\n                    Delete\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <b-modal ref=\"bookModal\" id=\"book-modal\" :title=\"formTitle\" hide-footer>\n      <b-form @submit=\"onSubmit\" @reset=\"onReset\" class=\"w-100\">\n        <b-form-group id=\"form-title-group\" label=\"Title:\" label-for=\"form-title-input\">\n          <!-- eslint-disable-next-line max-len -->\n          <b-form-input id=\"form-title-input\" type=\"text\" v-model=\"bookForm.title\" required placeholder=\"Enter title\">\n          </b-form-input>\n        </b-form-group>\n        <b-form-group id=\"form-author-group\" label=\"Author:\" label-for=\"form-author-input\">\n          <b-form-input id=\"form-author-input\" type=\"text\" v-model=\"bookForm.author\" required\n            placeholder=\"Enter author\">\n          </b-form-input>\n        </b-form-group>\n        <b-form-group id=\"form-read-group\">\n          <b-form-checkbox-group v-model=\"bookForm.read\" id=\"form-checks\">\n            <b-form-checkbox value=\"true\">Read?</b-form-checkbox>\n          </b-form-checkbox-group>\n        </b-form-group>\n        <b-button type=\"submit\" variant=\"primary\">Submit</b-button>\n        <b-button type=\"reset\" variant=\"danger\">Reset</b-button>\n      </b-form>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Alert from './Alert.vue';\n\nexport default {\n  data() {\n    return {\n      books: [],\n      bookForm: {\n        id: '',\n        title: '',\n        author: '',\n        read: [],\n      },\n      isUpdate: false,\n      message: '',\n      formTitle: '',\n    };\n  },\n  components: {\n    alert: Alert,\n  },\n\n  methods: {\n    getBooks() {\n      const path = 'http://localhost:8000/books';\n      axios.get(path)\n        .then((res) => {\n          this.books = res.data.books;\n          if (this.books.length === 0) {\n            this.message = 'No books! Please add one';\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    addBook(payload) {\n      const path = 'http://localhost:8000/books';\n      axios.post(path, payload)\n        .then(() => {\n          this.getBooks();\n          this.message = 'Book Added!';\n        })\n        .catch((error) => {\n          console.log(error);\n          this.getBooks();\n        });\n    },\n    updateBook(payload, bookID) {\n      const path = `http://localhost:8000/books/${bookID}`;\n      axios.put(path, payload)\n        .then(() => {\n          this.getBooks();\n          this.message = 'Book updated!';\n          this.showMessage = true;\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n          this.getBooks();\n        });\n    },\n    editBook(book) {\n      this.message = '';\n      this.bookForm = book;\n      this.formTitle = 'Update Book';\n      this.isUpdate = true;\n    },\n    removeBook(bookID) {\n      const path = `http://localhost:8000/books/${bookID}`;\n      axios.delete(path)\n        .then(() => {\n          this.getBooks();\n          this.message = 'Book removed!';\n        })\n        .catch((error) => {\n          console.error(error);\n          this.getBooks();\n        });\n    },\n    onDeleteBook(book) {\n      this.message = '';\n      this.$bvModal.msgBoxConfirm('Are you sure?')\n        .then((value) => {\n          if (value) {\n            this.removeBook(book.id);\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n          this.getBooks();\n        });\n    },\n    initForm() {\n      this.bookForm.title = '';\n      this.bookForm.author = '';\n      this.bookForm.read = [];\n      this.message = '';\n    },\n    onSubmit(evt) {\n      evt.preventDefault();\n      this.$refs.bookModal.hide();\n      let read = false;\n      if (this.bookForm.read[0]) read = true;\n      const payload = {\n        title: this.bookForm.title,\n        author: this.bookForm.author,\n        read,\n      };\n      if (this.isUpdate) {\n        this.updateBook(payload, this.bookForm.id);\n        this.isUpdate = false;\n      } else {\n        this.addBook(payload);\n      }\n      this.initForm();\n    },\n    onReset(evt) {\n      evt.preventDefault();\n      this.$refs.bookModal.hide();\n      this.initForm();\n      this.getBooks();\n    },\n  },\n  created() {\n    this.getBooks();\n  },\n};\n</script>\n"],"mappings":"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","ignoreList":[]}]}